<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Typecho数据库常用的API，创建/更新/读取/删除 | Hello World</title><meta name=keywords content="query,select,db-,mid,typecho"><meta name=description content="Typecho数据库常用API，整理了Typecho数据库常用的API，实现基本的CURD操作。创建（Create）、更新（Update）、"><meta name=author content="<Six"><link rel=canonical href=https://zynismus16.github.io/posts/12/><link crossorigin=anonymous href=/assets/css/stylesheet.205eb3a418a3d1e1b761d44bb63049016e02d2f2ec23878bf417fdeb514df388.css integrity="sha256-IF6zpBij0eG3YdRLtjBJAW4C0vLsI4eL9Bf961FN84g=" rel="preload stylesheet" as=style><link rel=icon href=https://zynismus16.github.io/images/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://zynismus16.github.io/images/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zynismus16.github.io/images/favicon-32x32.png><link rel=apple-touch-icon href=https://zynismus16.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zynismus16.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Typecho数据库常用的API，创建/更新/读取/删除"><meta property="og:description" content="Typecho数据库常用API，整理了Typecho数据库常用的API，实现基本的CURD操作。创建（Create）、更新（Update）、"><meta property="og:type" content="article"><meta property="og:url" content="https://zynismus16.github.io/posts/12/"><meta property="og:image" content="https://zynismus16.github.io/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-02T08:47:00+00:00"><meta property="article:modified_time" content="2022-11-02T08:47:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zynismus16.github.io/papermod-cover.png"><meta name=twitter:title content="Typecho数据库常用的API，创建/更新/读取/删除"><meta name=twitter:description content="Typecho数据库常用API，整理了Typecho数据库常用的API，实现基本的CURD操作。创建（Create）、更新（Update）、"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zynismus16.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Typecho数据库常用的API，创建/更新/读取/删除","item":"https://zynismus16.github.io/posts/12/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Typecho数据库常用的API，创建/更新/读取/删除","name":"Typecho数据库常用的API，创建\/更新\/读取\/删除","description":"Typecho数据库常用API，整理了Typecho数据库常用的API，实现基本的CURD操作。创建（Create）、更新（Update）、","keywords":["query","select","db-","mid","typecho"],"articleBody":"Typecho数据库常用API，整理了Typecho数据库常用的API，实现基本的CURD操作。创建（Create）、更新（Update）、读取（Retrieve）和删除（Delete）\n表创建和删除 在Typecho插件开发过程中，往往需要创建自己的表。Typecho_Db类中的query函数，可用于执行所有sql语句，因此我们使用query()来进行表的创建、修改或者删除。\n$db= Typecho_Db::get();\r$prefix = $db-\u003egetPrefix();\r$db-\u003equery('create table '.$prefix.'metas xxxxx'); 注意，使用query方式创建表的时候，需要在表明前手动添加$prefix前缀，否则在后面的使用过程中会造成困惑。\n还可以使用table.来代替$prefix，typecho会自动识别并替换成指定的前缀。\n同理，修改或者删除Typecho数据库中表，按照同样的方式调用query即可。\n数据查询 select，查询表数据 select语句是可以说Typecho插件开发中最常用的sql调用。\n$db = Typecho_Db::get();\r$query= $db-\u003eselect()-\u003efrom('table.metas');\r$result = $db-\u003efetchAll($query); 说明： typecho中，.号具有特定的意义，这里table.metas表示这是一个metas表。实际上，typecho是自动将table.的字符使用str_replace替换成了config.inc.php中设定的前缀。\n举例： $db-\u003eselect()-\u003efrom('table.metas');将生成SELECT * FROM typecho_metas WHERE (mid= '2' )，其中typecho_是表前缀; 而$db-\u003eselect()-\u003efrom('metas');将生成SELECT * FROM metas WHERE (mid= '2' )，注意这里没有了表前缀。 指定表字段查询\n有时为了提高查询性能，需要指定查询表中特定的几个字段，那么可以使用下面的方式：\n$query= $db-\u003eselect('mid','name')-\u003efrom('table.metas');\recho $query; //SELECT `mid` , `name` FROM typecho_metas 如果联合查询中，两个表存在相同的字段名，那么可以使用table.来指定表名：\n$query = $db-\u003eselect('table.contents.cid')-\u003efrom('table.contents')-\u003ejoin.... 指定查询条件 指定SQL查询的where语句，是最常用的api调用。\n$query= $db-\u003eselect('mid','name')-\u003efrom('table.metas')-\u003ewhere('mid = ?', 2);\recho $query; //SELECT * FROM typecho_metas WHERE (`mid` = '2' ) 如需要指定多个查询条件，直接多次调用where即可，将生成and关系的where条件\n$db-\u003eselect('mid','name')-\u003efrom('table.metas')-\u003ewhere('mid = ?', 2)-\u003ewhere('name like ? ', $name); 使用OR关系的查询条件\n可以使用orWhere()函数来指定SQL查询的或条件。\n$db-\u003eselect('mid','name')-\u003efrom('table.metas')-\u003ewhere('mid = ?', 2)-\u003eorWhere('mid = ? ', 3);\r//SELECT `mid` , `name` FROM typecho_metas WHERE (`mid` = '2' ) OR (`mid` = '3' ) 指定查询范围\n在需要分页的场景下，分页是必需的操作。offset()和limit()分别用于指定起始位置和结束位置，即指定查询范围。\n$query = $db-\u003eselect('mid','name')-\u003efrom('table.metas')-\u003eoffset(2)-\u003elimit(3);\recho $query;//SELECT `mid` , `name` FROM typecho_metas LIMIT 3 OFFSET 2 Typecho中，还提供了一种简写的方法，见page()函数。\n$query = $db-\u003eselect('mid','name')-\u003efrom('table.metas')-\u003epage(3,10);\recho $query;//SELECT `mid` , `name` FROM typecho_metas LIMIT 10 OFFSET 20\r//表示取第三页，并取10条记录。 对查询结果进行排序 在Typecho中，使用order()函数和Typecho_Db::SORT_DESC指定查询结果的排序方式。\n$query = $db-\u003eselect('mid','name')-\u003efrom('table.metas')-\u003eorder('mid',Typecho_Db::SORT_DESC);\recho $query;//SELECT `mid` , `name` FROM typecho_metas ORDER BY `mid` DESC Tips: Typecho_Db::SORT_ASC 表示升序排序，Typecho_Db::SORT_DESC表示降序排序\n联合查询 联合查询是SQL的常用语法，在Typecho中，同样使用内置函数join()方便地进行联合查询。\n$query = $db-\u003eselect()\r-\u003efrom('table.contents')\r-\u003ejoin('table.comments', 'table.contents.cid = table.comments.cid',Typecho_Db::LEFT_JOIN)\r-\u003ewhere('table.contents.type = ?', 'post');\recho $query;\r//SELECT * FROM typechocontents LEFT JOIN typecho_comments ON typecho_contents.`cid` = typecho_comments.`cid` WHERE (typecho_contents.`type` = 'post' ) update，更新表数据 Typecho中，使用update()函数来进行更新表操作。但注意，update操作，需要借助于query执行。\n$update = $db-\u003eupdate('table.metas')-\u003erows(array('name'=\u003e'case_in_cn'))-\u003ewhere('mid=?',6);\recho $update;//UPDATE typecho_metas SET `name` = 'some_name' WHERE (`mid`='6' )\r//执行后，返回收影响的行数。\r$updateRows= $db-\u003equery($update); insert，插入数据 Typecho中，使用insert()函数来进行表插入操作。同样，insert操作需要借助于query函数。\n$insert = $db-\u003einsert('table.metas')\r-\u003erows(array('mid' =\u003e '22', 'name' =\u003e 'hello world'));\r//将构建好的sql执行, 如果你的主键id是自增型的还会返回insert id\r$insertId = $db-\u003equery($insert); delete，删除数据 Typecho中使用delete()函数来删除数据表中的行。delete操作用于删除数据表中指定的行，同样需要借助query函数执行。\n$delete = $db-\u003edelete('table.metas')\r-\u003ewhere('mid = ?', 2);\r//将构建好的sql执行, 会自动返回已经删除的记录数\r$deletedRows = $db-\u003equery($delete); 数据库调试\n查看查询语句 在Typecho调试过程中，打印sql语句往往是很有帮助的。对于大于5.2版本的php，直接echo $query即可，对于小于5.2版本，则需要显式调用__toString()函数\n$select = $db-\u003eselect()-\u003efrom('table.metas');\r//如果版本大于php5.2\recho $select;\r//如果小于php5.2\recho $select-\u003e__toString(); ","wordCount":"1701","inLanguage":"en","datePublished":"2022-11-02T08:47:00Z","dateModified":"2022-11-02T08:47:00Z","author":{"@type":"Person","name":"\u003cSix"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zynismus16.github.io/posts/12/"},"publisher":{"@type":"Organization","name":"Hello World","logo":{"@type":"ImageObject","url":"https://zynismus16.github.io/images/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zynismus16.github.io/ accesskey=h title="Hello World (Alt + H)"><img src=https://zynismus16.github.io/images/favicon.png alt aria-label=logo height=35>Hello World</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://zynismus16.github.io/ title=主页><span>主页</span></a></li><li><a href=https://zynismus16.github.io/search title=搜索><span>搜索</span></a></li><li><a href=https://zynismus16.github.io/atlas title=图册><span>图册</span></a></li><li><a href=https://zynismus16.github.io/archives title=存档><span>存档</span></a></li><li><a href=https://zynismus16.github.io/links title=友链><span>友链</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://zynismus16.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://zynismus16.github.io/posts/>Posts</a></div><h1 class=post-title>Typecho数据库常用的API，创建/更新/读取/删除</h1><div class=post-meta><span title='2022-11-02 08:47:00 +0000 UTC'>2022-11-02</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;&lt;Six&nbsp;|&nbsp;<a href=https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content rel="noopener noreferrer" target=_blank>&lt;Six</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>文章目录</span></summary><div class=inner><ul><li><a href=#%e8%a1%a8%e5%88%9b%e5%bb%ba%e5%92%8c%e5%88%a0%e9%99%a4 aria-label=表创建和删除>表创建和删除</a></li><li><a href=#%e6%95%b0%e6%8d%ae%e6%9f%a5%e8%af%a2 aria-label=数据查询>数据查询</a><ul><li><a href=#select%e6%9f%a5%e8%af%a2%e8%a1%a8%e6%95%b0%e6%8d%ae aria-label=select，查询表数据>select，查询表数据</a></li><li><a href=#%e8%af%b4%e6%98%8e aria-label=说明：>说明：</a></li><li><a href=#%e4%b8%be%e4%be%8b aria-label=举例：>举例：</a></li><li><a href=#%e6%8c%87%e5%ae%9a%e6%9f%a5%e8%af%a2%e6%9d%a1%e4%bb%b6 aria-label=指定查询条件>指定查询条件</a></li><li><a href=#%e5%af%b9%e6%9f%a5%e8%af%a2%e7%bb%93%e6%9e%9c%e8%bf%9b%e8%a1%8c%e6%8e%92%e5%ba%8f aria-label=对查询结果进行排序>对查询结果进行排序</a></li><li><a href=#%e8%81%94%e5%90%88%e6%9f%a5%e8%af%a2 aria-label=联合查询>联合查询</a></li></ul></li><li><a href=#%e6%9f%a5%e7%9c%8b%e6%9f%a5%e8%af%a2%e8%af%ad%e5%8f%a5 aria-label=查看查询语句>查看查询语句</a></li></ul></div></details></div><div class=post-content><p>Typecho数据库常用API，整理了Typecho数据库常用的API，实现基本的CURD操作。创建（Create）、更新（Update）、读取（Retrieve）和删除（Delete）</p><h2 id=表创建和删除>表创建和删除<a hidden class=anchor aria-hidden=true href=#表创建和删除>#</a></h2><p>在Typecho插件开发过程中，往往需要创建自己的表。<code>Typecho_Db</code>类中的<code>query</code>函数，可用于执行所有sql语句，因此我们使用<code>query()</code>来进行表的创建、修改或者删除。</p><pre tabindex=0><code>$db= Typecho_Db::get();
$prefix = $db-&gt;getPrefix();
$db-&gt;query(&#39;create table &#39;.$prefix.&#39;metas xxxxx&#39;);
</code></pre><p>注意，使用<code>query</code>方式创建表的时候，需要在表明前手动添加<code>$prefix</code>前缀，否则在后面的使用过程中会造成困惑。</p><p>还可以使用<code>table.</code>来代替<code>$prefix</code>，typecho会自动识别并替换成指定的前缀。</p><p>同理，修改或者删除Typecho数据库中表，按照同样的方式调用<code>query</code>即可。</p><h2 id=数据查询>数据查询<a hidden class=anchor aria-hidden=true href=#数据查询>#</a></h2><h3 id=select查询表数据>select，查询表数据<a hidden class=anchor aria-hidden=true href=#select查询表数据>#</a></h3><p><code>select</code>语句是可以说Typecho插件开发中最常用的sql调用。</p><pre tabindex=0><code>$db = Typecho_Db::get();
$query= $db-&gt;select()-&gt;from(&#39;table.metas&#39;);
$result = $db-&gt;fetchAll($query);
</code></pre><h3 id=说明>说明：<a hidden class=anchor aria-hidden=true href=#说明>#</a></h3><p>typecho中，<code>.</code>号具有特定的意义，这里<code>table.metas</code>表示这是一个metas表。实际上，typecho是自动将<code>table.</code>的字符使用<code>str_replace</code>替换成了<code>config.inc.php</code>中设定的前缀。</p><h3 id=举例>举例：<a hidden class=anchor aria-hidden=true href=#举例>#</a></h3><p><code>$db->select()->from('table.metas');</code>将生成<code>SELECT * FROM typecho_metas WHERE (mid= '2' )，</code>其中<code>typecho_</code>是表前缀;
而<code>$db->select()->from('metas');</code>将生成<code>SELECT * FROM metas WHERE (mid= '2' )，</code>注意这里没有了表前缀。
指定表字段查询</p><p>有时为了提高查询性能，需要指定查询表中特定的几个字段，那么可以使用下面的方式：</p><pre tabindex=0><code>$query= $db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;);
echo $query; //SELECT `mid` , `name` FROM typecho_metas
</code></pre><p>如果联合查询中，两个表存在相同的字段名，那么可以使用table.来指定表名：</p><pre tabindex=0><code>$query = $db-&gt;select(&#39;table.contents.cid&#39;)-&gt;from(&#39;table.contents&#39;)-&gt;join....
</code></pre><h3 id=指定查询条件>指定查询条件<a hidden class=anchor aria-hidden=true href=#指定查询条件>#</a></h3><p>指定SQL查询的<code>where</code>语句，是最常用的api调用。</p><pre tabindex=0><code>$query= $db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;)-&gt;where(&#39;mid = ?&#39;, 2);
echo $query; //SELECT * FROM typecho_metas WHERE (`mid` = &#39;2&#39; )
</code></pre><p>如需要指定多个查询条件，直接多次调用<code>where</code>即可，将生成<code>and</code>关系的<code>where</code>条件</p><pre tabindex=0><code>$db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;)-&gt;where(&#39;mid = ?&#39;, 2)-&gt;where(&#39;name like ? &#39;, $name);
</code></pre><p>使用<code>OR</code>关系的查询条件</p><p>可以使用<code>orWhere()</code>函数来指定SQL查询的或条件。</p><pre tabindex=0><code>$db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;)-&gt;where(&#39;mid = ?&#39;, 2)-&gt;orWhere(&#39;mid = ? &#39;, 3);
//SELECT `mid` , `name` FROM typecho_metas WHERE (`mid` = &#39;2&#39; ) OR (`mid` = &#39;3&#39; )
</code></pre><p>指定查询范围</p><p>在需要分页的场景下，分页是必需的操作。offset()和limit()分别用于指定起始位置和结束位置，即指定查询范围。</p><pre tabindex=0><code>$query = $db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;)-&gt;offset(2)-&gt;limit(3);
echo $query;//SELECT `mid` , `name` FROM typecho_metas LIMIT 3 OFFSET 2
</code></pre><p>Typecho中，还提供了一种简写的方法，见<code>page()</code>函数。</p><pre tabindex=0><code>$query = $db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;)-&gt;page(3,10);
echo $query;//SELECT `mid` , `name` FROM typecho_metas LIMIT 10 OFFSET 20
//表示取第三页，并取10条记录。
</code></pre><h3 id=对查询结果进行排序>对查询结果进行排序<a hidden class=anchor aria-hidden=true href=#对查询结果进行排序>#</a></h3><p>在Typecho中，使用<code>order()</code>函数和<code>Typecho_Db::SORT_DESC</code>指定查询结果的排序方式。</p><pre tabindex=0><code>$query = $db-&gt;select(&#39;mid&#39;,&#39;name&#39;)-&gt;from(&#39;table.metas&#39;)-&gt;order(&#39;mid&#39;,Typecho_Db::SORT_DESC);
echo $query;//SELECT `mid` , `name` FROM typecho_metas ORDER BY `mid` DESC
</code></pre><p>Tips: <code>Typecho_Db::SORT_ASC </code>表示升序排序，<code>Typecho_Db::SORT_DESC</code>表示降序排序</p><h3 id=联合查询>联合查询<a hidden class=anchor aria-hidden=true href=#联合查询>#</a></h3><p>联合查询是SQL的常用语法，在Typecho中，同样使用内置函数<code>join()</code>方便地进行联合查询。</p><pre tabindex=0><code>$query = $db-&gt;select()
    -&gt;from(&#39;table.contents&#39;)
    -&gt;join(&#39;table.comments&#39;, &#39;table.contents.cid = table.comments.cid&#39;,Typecho_Db::LEFT_JOIN)
    -&gt;where(&#39;table.contents.type = ?&#39;, &#39;post&#39;);
echo $query;
//SELECT * FROM typechocontents LEFT JOIN typecho_comments ON typecho_contents.`cid` = typecho_comments.`cid` WHERE (typecho_contents.`type` = &#39;post&#39; )
</code></pre><p><code>update</code>，更新表数据
Typecho中，使用<code>update()</code>函数来进行更新表操作。但注意，update操作，需要借助于query执行。</p><pre tabindex=0><code>$update = $db-&gt;update(&#39;table.metas&#39;)-&gt;rows(array(&#39;name&#39;=&gt;&#39;case_in_cn&#39;))-&gt;where(&#39;mid=?&#39;,6);
echo $update;//UPDATE typecho_metas SET `name` = &#39;some_name&#39; WHERE (`mid`=&#39;6&#39; )
//执行后，返回收影响的行数。
$updateRows= $db-&gt;query($update);
</code></pre><p><code>insert</code>，插入数据
Typecho中，使用<code>insert()</code>函数来进行表插入操作。同样，<code>insert</code>操作需要借助于<code>query</code>函数。</p><pre tabindex=0><code>$insert = $db-&gt;insert(&#39;table.metas&#39;)
    -&gt;rows(array(&#39;mid&#39; =&gt; &#39;22&#39;, &#39;name&#39; =&gt; &#39;hello world&#39;));
//将构建好的sql执行, 如果你的主键id是自增型的还会返回insert id
$insertId = $db-&gt;query($insert);
</code></pre><p><code>delete</code>，删除数据
Typecho中使用<code>delete()</code>函数来删除数据表中的行。delete操作用于删除数据表中指定的行，同样需要借助<code>query</code>函数执行。</p><pre tabindex=0><code>$delete = $db-&gt;delete(&#39;table.metas&#39;)
    -&gt;where(&#39;mid = ?&#39;, 2);
//将构建好的sql执行, 会自动返回已经删除的记录数
$deletedRows = $db-&gt;query($delete);
</code></pre><p>数据库调试</p><h2 id=查看查询语句>查看查询语句<a hidden class=anchor aria-hidden=true href=#查看查询语句>#</a></h2><p>在Typecho调试过程中，打印sql语句往往是很有帮助的。对于大于5.2版本的php，直接<code>echo $query</code>即可，对于小于5.2版本，则需要显式调用<code>__toString()</code>函数</p><pre tabindex=0><code>$select = $db-&gt;select()-&gt;from(&#39;table.metas&#39;);
//如果版本大于php5.2
echo $select;
//如果小于php5.2
echo $select-&gt;__toString();
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://zynismus16.github.io/tags/query/>query</a></li><li><a href=https://zynismus16.github.io/tags/select/>select</a></li><li><a href=https://zynismus16.github.io/tags/db-/>db-</a></li><li><a href=https://zynismus16.github.io/tags/mid/>mid</a></li><li><a href=https://zynismus16.github.io/tags/typecho/>typecho</a></li></ul><nav class=paginav><a class=prev href=https://zynismus16.github.io/posts/11/><span class=title>« 上一页</span><br><span>使用ADBlock插件屏蔽知乎登录弹窗</span></a>
<a class=next href=https://zynismus16.github.io/posts/13/><span class=title>下一页 »</span><br><span>Typecho主题前台实现删除文章功能</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://zynismus16.github.io/>Hello World</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>